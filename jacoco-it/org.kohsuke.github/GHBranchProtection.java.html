<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHBranchProtection.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub API for Java</a> &gt; <a href="index.source.html" class="el_package">org.kohsuke.github</a> &gt; <span class="el_source">GHBranchProtection.java</span></div><h1>GHBranchProtection.java</h1><pre class="source lang-java linenums">package org.kohsuke.github;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

import java.io.IOException;
import java.util.Collection;
import java.util.Collections;

import static org.kohsuke.github.internal.Previews.ZZZAX;

// TODO: Auto-generated Javadoc
/**
 * The type GHBranchProtection.
 *
 * @see &lt;a href=&quot;https://docs.github.com/en/rest/reference/repos#get-branch-protection&quot;&gt;GitHub Branch Protection&lt;/a&gt;
 */
@SuppressFBWarnings(
        value = { &quot;UWF_UNWRITTEN_PUBLIC_OR_PROTECTED_FIELD&quot;, &quot;UWF_UNWRITTEN_FIELD&quot;, &quot;NP_UNWRITTEN_FIELD&quot;,
                &quot;URF_UNREAD_FIELD&quot; },
        justification = &quot;JSON API&quot;)
<span class="fc" id="L23">public class GHBranchProtection extends GitHubInteractiveObject {</span>
    private static final String REQUIRE_SIGNATURES_URI = &quot;/required_signatures&quot;;

    @JsonProperty
    private AllowDeletions allowDeletions;

    @JsonProperty
    private AllowForcePushes allowForcePushes;

    @JsonProperty
    private AllowForkSyncing allowForkSyncing;

    @JsonProperty
    private BlockCreations blockCreations;

    @JsonProperty
    private EnforceAdmins enforceAdmins;

    @JsonProperty
    private LockBranch lockBranch;

    @JsonProperty
    private RequiredConversationResolution requiredConversationResolution;

    @JsonProperty
    private RequiredLinearHistory requiredLinearHistory;

    @JsonProperty(&quot;required_pull_request_reviews&quot;)
    private RequiredReviews requiredReviews;

    @JsonProperty
    private RequiredStatusChecks requiredStatusChecks;

    @JsonProperty
    private Restrictions restrictions;

    @JsonProperty
    private String url;

    /**
     * Enabled signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    @Preview(ZZZAX)
    public void enabledSignedCommits() throws IOException {
<span class="fc" id="L70">        requester().method(&quot;POST&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class);</span>
<span class="fc" id="L71">    }</span>

    /**
     * Disable signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    @Preview(ZZZAX)
    public void disableSignedCommits() throws IOException {
<span class="fc" id="L81">        requester().method(&quot;DELETE&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).send();</span>
<span class="fc" id="L82">    }</span>

    /**
     * Gets allow deletions.
     *
     * @return the enforce admins
     */
    public AllowDeletions getAllowDeletions() {
<span class="fc" id="L90">        return allowDeletions;</span>
    }

    /**
     * Gets allow force pushes.
     *
     * @return the enforce admins
     */
    public AllowForcePushes getAllowForcePushes() {
<span class="fc" id="L99">        return allowForcePushes;</span>
    }

    /**
     * Gets allow fork syncing.
     *
     * @return the enforce admins
     */
    public AllowForkSyncing getAllowForkSyncing() {
<span class="fc" id="L108">        return allowForkSyncing;</span>
    }

    /**
     * Gets block creations.
     *
     * @return the enforce admins
     */
    public BlockCreations getBlockCreations() {
<span class="fc" id="L117">        return blockCreations;</span>
    }

    /**
     * Gets enforce admins.
     *
     * @return the enforce admins
     */
    public EnforceAdmins getEnforceAdmins() {
<span class="fc" id="L126">        return enforceAdmins;</span>
    }

    /**
     * Gets lock branch.
     *
     * @return the enforce admins
     */
    public LockBranch getLockBranch() {
<span class="fc" id="L135">        return lockBranch;</span>
    }

    /**
     * Gets required conversation resolution.
     *
     * @return the enforce admins
     */
    public RequiredConversationResolution getRequiredConversationResolution() {
<span class="fc" id="L144">        return requiredConversationResolution;</span>
    }

    /**
     * Gets required linear history.
     *
     * @return the enforce admins
     */
    public RequiredLinearHistory getRequiredLinearHistory() {
<span class="fc" id="L153">        return requiredLinearHistory;</span>
    }

    /**
     * Gets required reviews.
     *
     * @return the required reviews
     */
    public RequiredReviews getRequiredReviews() {
<span class="fc" id="L162">        return requiredReviews;</span>
    }

    /**
     * Gets required signatures.
     *
     * @return the required signatures
     * @throws IOException
     *             the io exception
     */
    @Preview(ZZZAX)
    public boolean getRequiredSignatures() throws IOException {
<span class="fc" id="L174">        return requester().withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class).enabled;</span>
    }

    /**
     * Gets required status checks.
     *
     * @return the required status checks
     */
    public RequiredStatusChecks getRequiredStatusChecks() {
<span class="fc" id="L183">        return requiredStatusChecks;</span>
    }

    /**
     * Gets restrictions.
     *
     * @return the restrictions
     */
    public Restrictions getRestrictions() {
<span class="nc" id="L192">        return restrictions;</span>
    }

    /**
     * Gets url.
     *
     * @return the url
     */
    public String getUrl() {
<span class="nc" id="L201">        return url;</span>
    }

    private Requester requester() {
<span class="fc" id="L205">        return root().createRequest().withPreview(ZZZAX);</span>
    }

    /**
     * The type AllowDeletions.
     */
<span class="fc" id="L211">    public static class AllowDeletions {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L221">            return enabled;</span>
        }
    }

    /**
     * The type Check.
     */
    public static class Check {
        private String context;

        @JsonInclude(JsonInclude.Include.NON_NULL)
        private Integer appId;

        /**
         * no-arg constructor for the serializer
         */
<span class="fc" id="L237">        public Check() {</span>
<span class="fc" id="L238">        }</span>

        /**
         * Regular constructor for use in user business logic
         *
         * @param context
         *            the context string of the check
         * @param appId
         *            the application ID the check is supposed to come from. Pass &quot;-1&quot; to explicitly allow any app to
         *            set the status. Pass &quot;null&quot; to automatically select the GitHub App that has recently provided this
         *            check.
         */
<span class="fc" id="L250">        public Check(String context, Integer appId) {</span>
<span class="fc" id="L251">            this.context = context;</span>
<span class="fc" id="L252">            this.appId = appId;</span>
<span class="fc" id="L253">        }</span>

        /**
         * The context string of the check
         *
         * @return the string
         */
        public String getContext() {
<span class="fc" id="L261">            return context;</span>
        }

        /**
         * The application ID the check is supposed to come from. The value &quot;-1&quot; indicates &quot;any source&quot;.
         *
         * @return the integer
         */
        public Integer getAppId() {
<span class="fc" id="L270">            return appId;</span>
        }
    }

    /**
     * The type AllowForcePushes.
     */
<span class="fc" id="L277">    public static class AllowForcePushes {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L287">            return enabled;</span>
        }
    }

    /**
     * The type AllowForkSyncing.
     */
<span class="fc" id="L294">    public static class AllowForkSyncing {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L304">            return enabled;</span>
        }
    }

    /**
     * The type BlockCreations.
     */
<span class="fc" id="L311">    public static class BlockCreations {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L321">            return enabled;</span>
        }
    }

    /**
     * The type EnforceAdmins.
     */
<span class="fc" id="L328">    public static class EnforceAdmins {</span>
        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L341">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L350">            return enabled;</span>
        }
    }

    /**
     * The type LockBranch.
     */
<span class="fc" id="L357">    public static class LockBranch {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L367">            return enabled;</span>
        }
    }

    /**
     * The type RequiredConversationResolution.
     */
<span class="fc" id="L374">    public static class RequiredConversationResolution {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L384">            return enabled;</span>
        }
    }

    /**
     * The type RequiredLinearHistory.
     */
<span class="fc" id="L391">    public static class RequiredLinearHistory {</span>
        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L401">            return enabled;</span>
        }
    }

    /**
     * The type RequiredReviews.
     */
<span class="fc" id="L408">    public static class RequiredReviews {</span>
        @JsonProperty(&quot;dismissal_restrictions&quot;)
        private Restrictions dismissalRestriction;

        @JsonProperty
        private boolean dismissStaleReviews;

        @JsonProperty
        private boolean requireCodeOwnerReviews;

        @JsonProperty
        private boolean requireLastPushApproval;

        @JsonProperty(&quot;required_approving_review_count&quot;)
        private int requiredReviewers;

        @JsonProperty
        private String url;

        /**
         * Gets dismissal restrictions.
         *
         * @return the dismissal restrictions
         */
        public Restrictions getDismissalRestrictions() {
<span class="nc" id="L433">            return dismissalRestriction;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L442">            return url;</span>
        }

        /**
         * Is dismiss stale reviews boolean.
         *
         * @return the boolean
         */
        public boolean isDismissStaleReviews() {
<span class="fc" id="L451">            return dismissStaleReviews;</span>
        }

        /**
         * Is require code owner reviews boolean.
         *
         * @return the boolean
         */
        public boolean isRequireCodeOwnerReviews() {
<span class="fc" id="L460">            return requireCodeOwnerReviews;</span>
        }

        /**
         * Is require last push approval boolean.
         *
         * @return the boolean
         */
        public boolean isRequireLastPushApproval() {
<span class="fc" id="L469">            return requireLastPushApproval;</span>
        }

        /**
         * Gets required reviewers.
         *
         * @return the required reviewers
         */
        public int getRequiredReviewers() {
<span class="fc" id="L478">            return requiredReviewers;</span>
        }
    }

    private static class RequiredSignatures {
        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L495">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="nc" id="L504">            return enabled;</span>
        }
    }

    /**
     * The type RequiredStatusChecks.
     */
<span class="fc" id="L511">    public static class RequiredStatusChecks {</span>
        @JsonProperty
        private Collection&lt;String&gt; contexts;

        @JsonProperty
        private Collection&lt;Check&gt; checks;

        @JsonProperty
        private boolean strict;

        @JsonProperty
        private String url;

        /**
         * Gets contexts.
         *
         * @return the contexts
         */
        public Collection&lt;String&gt; getContexts() {
<span class="fc" id="L530">            return Collections.unmodifiableCollection(contexts);</span>
        }

        /**
         * Gets checks.
         *
         * @return the checks
         */
        public Collection&lt;Check&gt; getChecks() {
<span class="fc" id="L539">            return Collections.unmodifiableCollection(checks);</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L548">            return url;</span>
        }

        /**
         * Is requires branch up to date boolean.
         *
         * @return the boolean
         */
        public boolean isRequiresBranchUpToDate() {
<span class="fc" id="L557">            return strict;</span>
        }
    }

    /**
     * The type Restrictions.
     */
<span class="nc" id="L564">    public static class Restrictions {</span>
        @JsonProperty
        private Collection&lt;GHTeam&gt; teams;

        private String teamsUrl;

        @JsonProperty
        private String url;

        @JsonProperty
        private Collection&lt;GHUser&gt; users;

        private String usersUrl;

        /**
         * Gets teams.
         *
         * @return the teams
         */
        public Collection&lt;GHTeam&gt; getTeams() {
<span class="nc" id="L584">            return Collections.unmodifiableCollection(teams);</span>
        }

        /**
         * Gets teams url.
         *
         * @return the teams url
         */
        public String getTeamsUrl() {
<span class="nc" id="L593">            return teamsUrl;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L602">            return url;</span>
        }

        /**
         * Gets users.
         *
         * @return the users
         */
        public Collection&lt;GHUser&gt; getUsers() {
<span class="nc" id="L611">            return Collections.unmodifiableCollection(users);</span>
        }

        /**
         * Gets users url.
         *
         * @return the users url
         */
        public String getUsersUrl() {
<span class="nc" id="L620">            return usersUrl;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>